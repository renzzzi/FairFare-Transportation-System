<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | FairFare</title>
    <script src="js/font-loader.js" defer></script>
    <link rel="stylesheet" href="css/pages/admin/admin-styles.css">
</head>

<body>
    <header class="admin-header">
        <div class="navbar">
            <div class="nav-container">
                <h2 class="burger-icon" id="burger-icon">&#9776;</h2>
                <div class="nav-logo-container">
                    <img src="images/logos/logo-color.png" alt="FairFare Logo" class="nav-logo">
                    <h1>FAIR FARE Admin</h1>
                </div>
            </div>
        </div>
    </header>

    <section class="admin-dashboard">
        <div class="admin-container">
            <aside class="side-panel">
                <ul id="menu-list">
                    <li data-section="dashboard">Dashboard</li>
                    <li data-section="reports">Reports</li>
                    <li data-section="manage-supervisors">Manage Travel Supervisor Accounts</li>
                    <li data-section="manage-passengers">Manage Passenger Accounts</li>
                    <li data-section="passenger-requests">Passenger Requests / Complaints</li>
                    <li data-section="settings">Settings</li>
                    <li id="logout" class="text-decoration-none fas fa-sign-out-alt">Log Out</li>
                </ul>
            </aside>

            <main class="dashboard-content">
                <section id="dashboard" class="dashboard-section">
                    <h2>Dashboard Overview</h2>

                    <section class="chart-container">
                        <section class="chart" data-chart="seatsbooked">
                            <span class="chart-header">
                                <h3>Seats Booked</h3>
                                <select id="seatsbooked-timerange">
                                    <option value="1y">1 year</option>
                                    <option value="9m">9 months</option>
                                    <option value="6m">6 months</option>
                                    <option value="3m">3 months</option>
                                </select>
                            </span>
                            <canvas id="seatsbooked-chart"></canvas>
                        </section>

                        <section class="chart" data-chart="websitevisitors">
                            <span class="chart-header">
                                <h3>Website Visitors</h3>
                                <select id="websitevisitors-timerange">
                                    <option value="1y">1 year</option>
                                    <option value="9m">9 months</option>
                                    <option value="6m">6 months</option>
                                    <option value="3m">3 months</option>
                                </select>
                            </span>
                            <canvas id="websitevisitors-chart"></canvas>
                        </section>

                        <section class="chart" data-chart="ratings">
                            <h3>Ratings</h3>
                            <canvas id="ratings-chart"></canvas>
                        </section>
                    </section>
                </section>

                <section id="reports" class="dashboard-section" style="display: none;">
                    <h2>Reports</h2>
                    <table id="reports-table">
                        <thead>
                            <tr>
                                <th>Supervisor ID</th>
                                <th>Report Title</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#TS001</td>
                                <td>Incident Report - Bus 123</td>
                                <td>Unseen</td>
                            </tr>
                            <tr>
                                <td>#TS002</td>
                                <td>Maintenance Request - Bus 456</td>
                                <td>Seen</td>
                            </tr>
                            <tr>
                                <td>#TS003</td>
                                <td>Passenger Complaint - Trip 789</td>
                                <td>Seen</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="manage-supervisors" class="dashboard-section" style="display: none;">
                    <h2>Manage Travel Supervisor Accounts</h2>
                    <div class="table-container">
                        <button type="button" id="expand-supervisors-button">Expand Table</button>
                        <div id="supervisor-search" style="display: none;">
                            <input type="text" id="supervisor-search-input" placeholder="Search by ID or Name">
                            <button type="button" id="search-supervisors-button">Search</button>
                        </div>
                        <table id="supervisors-table">
                            <thead>
                                <tr>
                                    <th>Supervisor ID</th>
                                    <th>Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#TS001</td>
                                    <td>John Doe</td>
                                    <td><button type="button" class="chat-button">Chat</button></td>
                                </tr>
                                <tr>
                                    <td>#TS002</td>
                                    <td>Jane Smith</td>
                                    <td><button type="button" class="chat-button">Chat</button></td>
                                </tr>
                            </tbody>
                        </table>
                        <div id="add-supervisor-form" style="display: none;">
                            <h3>Add Supervisor</h3>
                            <input type="text" id="new-supervisor-name" placeholder="Name">
                            <input type="password" id="new-supervisor-password" placeholder="Password">
                            <button type="button" id="add-supervisor-button">Add</button>
                        </div>
                        <button type="button" id="remove-supervisor-button">Remove Supervisor</button>
                    </div>
                </section>

                <section id="manage-passengers" class="dashboard-section" style="display: none;">
                    <h2>Manage Passenger Accounts</h2>
                    <div class="table-container">
                        <button type="button" id="expand-passengers-button">Expand Table</button>
                        <div id="passenger-search" style="display: none;">
                            <input type="text" id="passenger-search-input" placeholder="Search by ID or Name">
                            <button type="button" id="search-passengers-button">Search</button>
                        </div>
                        <table id="passengers-table">
                            <thead>
                                <tr>
                                    <th>Passenger ID</th>
                                    <th>Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#P001</td>
                                    <td>Alice Johnson</td>
                                    <td><button type="button" class="ban-button">Ban</button></td>
                                </tr>
                                <tr class="banned">
                                    <td>#P002</td>
                                    <td>Bob Williams</td>
                                    <td><button type="button" class="ban-button">Unban</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <section id="passenger-requests" class="dashboard-section" style="display: none;">
                    <h2>Passenger Requests / Complaints</h2>
                    <table id="requests-table">
                        <thead>
                            <tr>
                                <th>User ID
                                    <button type="button" class="sort-button" onclick="sortTable(0)">&#x21D5;</button>
                                </th>
                                <th>Type</th>
                                <th>Message</th>
                                <th>Status</th>
                                <th>Submitted On</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-id="#1024" data-type="Request" data-message="Need refund for overcharged ticket"
                                data-status="Pending" data-submitted="April 12, 2025">
                                <td>#1024</td>
                                <td>Request</td>
                                <td>Need refund for overcharged ticket</td>
                                <td class="status pending">Pending</td>
                                <td>April 12, 2025</td>
                            </tr>
                            <tr data-id="#1025" data-type="Complaint" data-message="Driver arrived late at terminal"
                                data-status="Reviewed" data-submitted="April 13, 2025">
                                <td>#1025</td>
                                <td>Complaint</td>
                                <td>Driver arrived late at terminal</td>
                                <td class="status reviewed">Reviewed</td>
                                <td>April 13, 2025</td>
                            </tr>
                            <tr data-id="#1026" data-type="Request" data-message="Change destination of booked trip"
                                data-status="Resolved" data-submitted="April 14, 2025">
                                <td>#1026</td>
                                <td>Request</td>
                                <td>Change destination of booked trip</td>
                                <td class="status resolved">Resolved</td>
                                <td>April 14, 2025</td>
                            </tr>
                            <tr data-id="#1027" data-type="Complaint" data-message="AC not working in bus"
                                data-status="Pending" data-submitted="April 14, 2025">
                                <td>#1027</td>
                                <td>Complaint</td>
                                <td>AC not working in bus</td>
                                <td class="status pending">Pending</td>
                                <td>April 14, 2025</td>
                            </tr>
                            <tr data-id="#1028" data-type="Request" data-message="Payment failure during booking"
                                data-status="Resolved" data-submitted="April 15, 2025">
                                <td>#1028</td>
                                <td>Request</td>
                                <td>Payment failure during booking</td>
                                <td class="status resolved">Resolved</td>
                                <td>April 15, 2025</td>
                            </tr>
                            <tr data-id="#1029" data-type="Complaint" data-message="Conductor was rude"
                                data-status="Reviewed" data-submitted="April 15, 2025">
                                <td>#1029</td>
                                <td>Complaint</td>
                                <td>Conductor was rude</td>
                                <td class="status reviewed">Reviewed</td>
                                <td>April 15, 2025</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="settings" class="dashboard-section" style="display: none;">
                    <h2>Settings</h2>
                    <button type="button" id="theme-toggle">Toggle Theme</button>
                </section>
            </main>
        </div>
    </section>

    <div id="report-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Report Details</h2>
            <div id="report-details"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="js/admin-js/admin-script.js"></script>

    <script>
        $("#logout").click(function (event) {
            event.preventDefault();
            window.location.href = "../login.html";
        });
    </script>
</body>

</html>